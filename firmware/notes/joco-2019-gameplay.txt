JoCo 2019 Gameplay

The gameplay is a "capture creatures" game similar to Pokemon Go. The definition of precisely what a 'creature' is remains abstract so the gameplay could be reused for othe rbadge projects.

=== The user experience ===

Occasionally a random creature will be in the area of your badge.
When this happens, your badge flashes a special bling.

If you have already "captured"  a creature, then is flashes a brief (3 seconds?) "hello" to that creature, with a single color greed LED pattern. This 'hello' i dsubject to the same timing and presentation restrictions as the hello displays for other badge types.

If you have NOT captured that creature, then the badge flashes a long bling alert pattern (1 minute ???). This is a very flashy pattern on the LEDs and the creature is displayed on the LCD along with the rarity and number of points gained by capturing it.

During the alert pattern display, the user can press a button (the action button?) and capture that creature.

In the badge menu, there is a new selection that displays a scrolled list of all creatures captured. The existing "Score" menu choice shows how many creatures have been captured and the total points.

What the 'creatures' are is TBD but must be decided soon. Possibilities include:
Different famous people (artists, scientists, inventors)
Different animal types, wich internet-found images for each
Suggestions for others are welcome but they must be easy to gatehr.


=== Implementation ===

In order to identify creatures with a minimum of data, each creature is assigned an ID - an index starting at 1 and as high as the number of bits allocated will allow. 256 may be enough, and will fit into a single byte.

Every badge is capable of making a creature appear. This is done by inserting the creature ID into the BLE advertising packet that the badge sends. When this is done, the creature is included in advertising packeets for some persiod (10 seconds), and then no longer sent. Each badge will only send these creature IDs very rarely, say every 20 minutes.

Each SD card has a game/creature directory with files for each creature. The file base name is the creature index, and the extension indicates the type of data it contains.
Each base name is four digits.

nnnn.RAW - an image of the creature
nnnn.DAT - a structured file containing:
    a text name of the creature (10 characters max)
    a probablility from 0-100 that this creature is broadcast. This is applied after a creature is randomly selected from the list of all creatures. If a check against this probability fails, th ecreature is skipped, and another one is selected at random from among all creatures.

The score for each creature can be calculated from a base score and some factor times the rarity multiplier

Occasionally (every 20 minutes?) each badge will:
1. select a random number between 1 and the max creature ID
2. read the DAT file for that creature.
3. If there is a rarity multiplier for that creature:
    * Select a random number between 1 and the rarity multiplier, inclusive.
    * If that number does not match the rarity multiplier, then start over at step 1
4. Begin sending that creature ID in advertising packets and set the timer to end that
5. Trigger it's own 'creature seen' logic so that the sending badge also can capture it.

The time until the next creature broadcast should be randomized at badge powerup to a value between 0 and the time period. Perhaps the time period should be randomized somewhat also.

Each badge will need to store the following state information about the game:

* A list of creatures which have been captured
* The total Score (this can be calculated from the list and rarity multipliers)
The best way to store the list of creatures is TBD but could be:
    * A bitfield, in the badge state data
    * In the creature DAT file in the game directory
    * By adding a new file per capture in the game directory as a flag.

The badge must be capable of 'hearing' more than one creature at a time amd allowing the user to capture them. To support this:
When a creature is heard, it will be added to a list (the neighbor list?) for a period TBD.
The "creature present" bling will always display the rarest creature that's available. If it changes in the middle of displaying a creature, then the old creature remains on the list, and the countdown time to capture is held and reset to the max when the bling is displayed again.
When a creature is captured by th euser pressing the action button, the next most rare uncaptured creature in the list will be displayed, if there are any.

During the bling for uncaptured creates being present, "hello" displays for other badges and previously captured badges are suppressed. So are any other displays.
